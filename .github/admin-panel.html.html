<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frame Folk | Admin Panel</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .admin-container {
            max-width: 1200px;
            margin: 100px auto 50px;
            padding: 0 20px;
        }
        
        .admin-header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .stat-card {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: var(--shadow);
            text-align: center;
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--secondary);
            display: block;
        }
        
        .inquiries-table {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        
        th {
            background: var(--primary);
            color: white;
        }
        
        .status {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .status.new {
            background: #fff3cd;
            color: #856404;
        }
        
        .status.contacted {
            background: #d1ecf1;
            color: #0c5460;
        }
        
        .status.completed {
            background: #d4edda;
            color: #155724;
        }
        
        .back-to-site {
            display: inline-block;
            margin-top: 20px;
            color: var(--accent);
        }
    </style>
</head>
<body>
    <header id="header">
        <div class="container">
            <nav class="navbar">
                <a href="index.html" class="logo">Frame <span>Folk</span> Admin</a>
                <a href="index.html" class="back-to-site"><i class="fas fa-arrow-left"></i> Back to Website</a>
            </nav>
        </div>
    </header>

    <div class="admin-container">
        <div class="admin-header">
            <h1>Admin Dashboard</h1>
            <p>Manage your photography business inquiries and data</p>
        </div>

        <div class="admin-stats">
            <div class="stat-card">
                <span class="stat-number" id="total-inquiries">0</span>
                <span>Total Inquiries</span>
            </div>
            <div class="stat-card">
                <span class="stat-number" id="new-inquiries">0</span>
                <span>New Inquiries</span>
            </div>
            <div class="stat-card">
                <span class="stat-number" id="wedding-inquiries">0</span>
                <span>Wedding Inquiries</span>
            </div>
            <div class="stat-card">
                <span class="stat-number" id="corporate-inquiries">0</span>
                <span>Corporate Inquiries</span>
            </div>
        </div>

        <div class="inquiries-table">
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Event Type</th>
                        <th>Date Submitted</th>
                        <th>Status</th>
                        <th>Message Preview</th>
                    </tr>
                </thead>
                <tbody id="inquiries-body">
                    <!-- Inquiries will be loaded here -->
                </tbody>
            </table>
        </div>

        <div style="text-align: center; margin-top: 30px;">
            <button class="btn" onclick="exportData()"><i class="fas fa-download"></i> Export Data</button>
            <button class="btn btn-outline" onclick="clearAllData()" style="margin-left: 10px;"><i class="fas fa-trash"></i> Clear All Data</button>
        </div>
    </div>

    <script>
        // Load and display inquiries
        function loadInquiries() {
            const inquiries = JSON.parse(localStorage.getItem('frameFolkInquiries')) || [];
            const tbody = document.getElementById('inquiries-body');
            
            tbody.innerHTML = '';
            
            if (inquiries.length === 0) {
                tbody.innerHTML = '<tr><td colspan="6" style="text-align: center; padding: 40px;">No inquiries yet</td></tr>';
            } else {
                inquiries.forEach((inquiry, index) => {
                    const tr = document.createElement('tr');
                    tr.innerHTML = `
                        <td>${inquiry.name}</td>
                        <td>${inquiry.email}</td>
                        <td>${inquiry.eventType}</td>
                        <td>${new Date(inquiry.date).toLocaleDateString()}</td>
                        <td><span class="status ${inquiry.status || 'new'}">${inquiry.status || 'new'}</span></td>
                        <td>${inquiry.message.substring(0, 50)}...</td>
                    `;
                    tbody.appendChild(tr);
                });
            }
            
            // Update stats
            document.getElementById('total-inquiries').textContent = inquiries.length;
            document.getElementById('new-inquiries').textContent = inquiries.filter(i => !i.status || i.status === 'new').length;
            document.getElementById('wedding-inquiries').textContent = inquiries.filter(i => i.eventType === 'wedding').length;
            document.getElementById('corporate-inquiries').textContent = inquiries.filter(i => i.eventType === 'corporate').length;
        }
        
        // Export data
        function exportData() {
            const inquiries = JSON.parse(localStorage.getItem('frameFolkInquiries')) || [];
            if (inquiries.length === 0) {
                alert('No data to export');
                return;
            }
            
            const dataStr = JSON.stringify(inquiries, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'framefolk-inquiries-backup.json';
            a.click();
            URL.revokeObjectURL(url);
        }
        
        // Clear all data
        function clearAllData() {
            if (confirm('Are you sure you want to clear all inquiry data? This cannot be undone.')) {
                localStorage.removeItem('frameFolkInquiries');
                loadInquiries();
                alert('All data cleared successfully.');
            }
        }
        
        // Load inquiries on page load
        window.addEventListener('load', loadInquiries);
        
        // Header scroll effect
        window.addEventListener('scroll', function() {
            const header = document.getElementById('header');
            if (window.scrollY > 100) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });
    </script>
</body>
</html>